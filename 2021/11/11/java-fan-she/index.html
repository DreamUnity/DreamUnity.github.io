<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="JAVA-反射, 丁一的博客"><meta name="description" content="反射机制
疑问1：通过直接new的方式或反射的方式都可以调用公共的结构，开发中到底用那个？建议：直接new的方式。什么时候会使用：反射的方式。 反射的特征：动态性疑问2：反射机制与面向对象中的封装性是不是矛盾的？如何看待两个技术？不矛盾。封"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><title>JAVA-反射 | 丁一的博客</title><link rel="icon" type="image/png" href="https://img-blog.csdnimg.cn/07d2eaebcb8f4489b6835e7c07a2e168.png"><link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css"><link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" type="text/css" href="/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="/css/matery.css"><link rel="stylesheet" type="text/css" href="/css/my.css"><script src="/libs/jquery/jquery-3.6.0.min.js"></script><style type="text/css" lang="css">#loading-container{position:fixed;top:0;left:0;min-height:100vh;width:100vw;z-index:9999;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;text-align:center;-webkit-transition:opacity 1s ease;-moz-transition:opacity 1s ease;-o-transition:opacity 1s ease;transition:opacity 1s ease}.loading-image{width:120px;height:50px;transform:translate(-50%)}.loading-image div:nth-child(2){-webkit-animation:pacman-balls 1s linear 0s infinite;animation:pacman-balls 1s linear 0s infinite}.loading-image div:nth-child(3){-webkit-animation:pacman-balls 1s linear .33s infinite;animation:pacman-balls 1s linear .33s infinite}.loading-image div:nth-child(4){-webkit-animation:pacman-balls 1s linear .66s infinite;animation:pacman-balls 1s linear .66s infinite}.loading-image div:nth-child(5){-webkit-animation:pacman-balls 1s linear .99s infinite;animation:pacman-balls 1s linear .99s infinite}.loading-image div:first-of-type{width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_up .5s 0s infinite;animation:rotate_pacman_half_up .5s 0s infinite}.loading-image div:nth-child(2){width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_down .5s 0s infinite;animation:rotate_pacman_half_down .5s 0s infinite;margin-top:-50px}@-webkit-keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@-webkit-keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@-webkit-keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}@keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}.loading-image div:nth-child(3),.loading-image div:nth-child(4),.loading-image div:nth-child(5),.loading-image div:nth-child(6){background-color:#49b1f5;width:15px;height:15px;border-radius:100%;margin:2px;width:10px;height:10px;position:absolute;transform:translateY(-6.25px);top:25px;left:100px}.loading-text{margin-bottom:20vh;text-align:center;color:#2c3e50;font-size:2rem;box-sizing:border-box;padding:0 10px;text-shadow:0 2px 10px rgba(0,0,0,.2)}@media only screen and (max-width:500px){.loading-text{font-size:1.5rem}}.fadeout{opacity:0}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0)}}</style><script>(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//使用渐隐的方法淡出loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1000); 
        },1000);//强制显示loading page 1s  
    };
    loaded();
})()</script><meta name="generator" content="Hexo 5.4.2"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="alternate" href="/atom.xml" title="丁一的博客" type="application/atom+xml"></head><script src="https://cdn.jsdelivr.net/npm/bluebird@3/js/browser/bluebird.min.js"></script><script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@2.0.3/fetch.min.js"></script><script>fetch("https://v1.hitokoto.cn").then(function(t){return t.json()}).then(function(t){document.getElementById("hitokoto").innerText=t.hitokoto+"——【"+t.from+"】"}).catch(function(t){console.error(t)})</script><div id="loading-container"><p class="loading-text">玩命加载中 . . .</p><div class="loading-image"><div></div><div></div><div></div><div></div><div></div></div></div><body><div class="stars-con"><div id="stars"></div><div id="stars2"></div><div id="stars3"></div></div><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg> <a onclick="switchNightMode()" class="icon-V hidden" title="切换主题"><svg width="48" height="48" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><script>function checkNightMode(){"1"===localStorage.getItem("isDark")||"0"!==localStorage.getItem("isDark")&&(20<=(new Date).getHours()||(new Date).getHours()<7||matchMedia("(prefers-color-scheme: dark)").matches)?($("body").addClass("DarkMode"),$("#changeMode-top").removeClass("fa-moon").addClass("fa-sun"),$("#modeicon").attr("xlink:href","#icon-sun")):$("#modeicon").attr("xlink:href","#icon-moon")}function switchNightMode(){$('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($("body")),setTimeout(function(){$("body").hasClass("DarkMode")?($("body").removeClass("DarkMode"),localStorage.setItem("isDark","0"),$("#changeMode-top").removeClass("fa-sun").addClass("fa-moon"),$("#modeicon").attr("xlink:href","#icon-moon")):($("body").addClass("DarkMode"),localStorage.setItem("isDark","1"),$("#changeMode-top").removeClass("fa-moon").addClass("fa-sun"),$("#modeicon").attr("xlink:href","#icon-sun")),setTimeout(function(){$(".Cuteen_DarkSky").fadeOut(1e3,function(){$(this).remove()})},2e3)})}function switchNightModeTop(){$("body").hasClass("DarkMode")?($("body").removeClass("DarkMode"),localStorage.setItem("isDark","0"),$("#changeMode-top").removeClass("fa-sun").addClass("fa-moon"),$("#modeicon").attr("xlink:href","#icon-moon")):($("body").addClass("DarkMode"),localStorage.setItem("isDark","1"),$("#changeMode-top").removeClass("fa-moon").addClass("fa-sun"),$("#modeicon").attr("xlink:href","#icon-sun"))}</script><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><div><img src="https://img-blog.csdnimg.cn/1ddcf1ace8154d4982afde019f118971.gif" class="logo-img" alt="LOGO"> <span class="logo-span">丁一的博客</span></div></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>时间轴</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fas fa-list" style="zoom:.6"></i> <span>工具</span> <i class="fas fa-chevron-down" aria-hidden="true" style="zoom:.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/friends"><i class="fas fa-address-book" style="margin-top:-20px;zoom:.6"></i> <span>留言</span></a></li></ul></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="https://img-blog.csdnimg.cn/1ddcf1ace8154d4982afde019f118971.gif" class="logo-img circle responsive-img"><div class="logo-name">丁一的博客</div><div class="logo-desc">DingYi的博客</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 时间轴</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fas fa-list"></i> 工具 <span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/friends" style="margin-left:75px"><i class="fa fas fa-address-book" style="position:absolute;left:50px"></i> <span>留言</span></a></li></ul></li></ul></div></div></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(https://img-blog.csdnimg.cn/d28a076523144cf3aafe65d580c64cec.jpeg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">JAVA-反射</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{padding:35px 0 15px 17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{padding-bottom:30px;overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px;position:absolute;right:23.5vw;display:block}#toc-content .is-active-link{color:#42b983}#floating-toc-btn{position:fixed;right:15px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><span class="chip bg-color">无标签</span></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/JAVA%E5%9F%BA%E7%A1%80/" class="post-category">JAVA基础</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp; 2021-11-11</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp; 5.2k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp; 22 分</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp; <span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><link rel="stylesheet" href="/libs/prism/prism.min.css"><div class="card-content article-card-content"><div id="articleContent"><h1>反射机制</h1><p>疑问1：通过直接new的方式或反射的方式都可以调用公共的结构，开发中到底用那个？建议：直接new的方式。什么时候会使用：反射的方式。 反射的特征：动态性疑问2：反射机制与面向对象中的封装性是不是矛盾的？如何看待两个技术？不矛盾。封装性：解决的事建议调用什么，而反射性是可以调用什么</p><h1>Class类与实例‼️</h1><p>关于java.lang.Class类的理解<br>1.类的加载过程：程序经过javac.exe命令以后，会生成一个或多个字节码文件(.class结尾)。接着我们使用java.exe命令对某个字节码文件进行解释运行。相当于将某个字节码文件加载到内存中。此过程就称为类的加载。加载到内存中的类，我们就称为运行时类，此运行时类，就作为Class的一个实例。</p><p>2.换句话说，Class的实例就对应着一个运行时类。<br>3.加载到内存中的运行时类，<mark>会缓存一定的时间</mark>。在此时间之内，我们可以通过不同的方式来获取此运行时类。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">//方式一：调用运行时类的属性：.class
Class clazz1 = Person.class;
//方式二：通过运行时类的对象,调用getClass()
Person p1 = new Person();
Class clazz2 = p1.getClass();
//方式三：调用Class的静态方法：forName(String classPath)
Class clazz3 = Class.forName("com.atguigu.java.Person");
//clazz1 == clazz2 == clazz3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1>类的加载与CLassLoader的理解</h1><p><img src="https://img-blog.csdnimg.cn/6e5da8e6949c4e69ae758fed5e1d7002.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5p2l5pel5Y-v5pyfRHJlYW0=,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""><br>newInstance():调用此方法，创建对应的运行时类的对象。内部调用了运行时类的空参的构造器。</p><p>要想此方法正常的创建运行时类的对象，要求：<br>1.运行时类必须提供空参的构造器<br>2.空参的构造器的访问权限得够。通常，设置为public。</p><p>在javabean中要求提供一个public的空参构造器。原因：<br>1.便于通过反射，创建运行时类的对象<br>2.便于子类继承此运行时类时，默认调用super()时，保证父类有此构造器</p><h1>创建运行时类的对象‼️</h1><h1>获取运行时类的完整结构</h1><h1>调用运行时类的制定结构‼️</h1><p>指定的方法（需要掌握）：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">Class clazz = Person.class;

//创建运行时类的对象
Person p = (Person) clazz.newInstance();

/*
1.获取指定的某个方法
getDeclaredMethod():参数1 ：指明获取的方法的名称  参数2：指明获取的方法的形参列表
 */
Method show = clazz.getDeclaredMethod("show", String.class);
//2.保证当前方法是可访问的
show.setAccessible(true);

/*
3. 调用方法的invoke():参数1：方法的调用者  参数2：给方法形参赋值的实参
invoke()的返回值即为对应类中调用的方法的返回值。
 */
Object returnValue = show.invoke(p,"CHN"); //String nation = p.show("CHN");
System.out.println(returnValue);

System.out.println("*************如何调用静态方法*****************");

// private static void showDesc()

Method showDesc = clazz.getDeclaredMethod("showDesc");
showDesc.setAccessible(true);
//如果调用的运行时类中的方法没有返回值，则此invoke()返回null
//        Object returnVal = showDesc.invoke(null);
Object returnVal = showDesc.invoke(Person.class);
System.out.println(returnVal);//null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1>反射的应用：动态代理</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_38259539/article/details/71799078?utm_source=app&amp;app_version=5.1.0">以下为转载</a></p><p>反射是框架设计的灵魂</p><p>（使用的前提条件：必须先得到代表的字节码的Class，Class类用于表示.class文件（字节码））</p><p>一、反射的概述</p><p>JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制。要想解剖一个类,必须先要获取到该类的字节码文件对象。而解剖使用的就是Class类中的方法.所以先要获取到每一个字节码文件对应的Class类型的对象.</p><p>以上的总结就是什么是反射反射就是把java类中的各种成分映射成一个个的Java对象例如：一个类有：成员变量、方法、构造方法、包等等信息，利用反射技术可以对一个类进行解剖，把个个组成部分映射成一个个对象。（其实：一个类中这些成员方法、构造方法、在加入类中都有一个类来描述）如图是类的正常加载过程：反射的原理在与class对象。熟悉一下加载的时候：Class对象的由来是将class文件读入内存，并为之创建一个Class对象。</p><p>其中这个Class对象很特殊。我们先了解一下这个C lass类</p><p>二、查看Class类在java中的api详解（1.7的API）</p><p>如何阅读java中的api详见java基础之——String字符串处理</p><p>Class 类的实例表示正在运行的 Java 应用程序中的类和接口。也就是jvm中有N多的实例每个类都有该Class对象。（包括基本数据类型）<br>Class 没有公共构造方法。Class 对象是在加载类时由 Java 虚拟机以及通过调用类加载器中的defineClass 方法自动构造的。也就是这不需要我们自己去处理创建，JVM已经帮我们创建好了。</p><p>没有公共的构造方法，方法共有64个太多了。下面用到哪个就详解哪个吧</p><p>三、反射的使用（这里使用Student类做演示）</p><p>先写一个Student类。</p><p>1、获取Class对象的三种方式</p><p>1.1 Object ——&gt; getClass();<br>1.2 任何数据类型（包括基本数据类型）都有一个“静态”的class属性<br>1.3 通过Class类的静态方法：forName（String className）(常用)</p><p>其中1.1是因为Object类中的getClass方法、因为所有类都继承Object类。从而调用Object类来获取</p><p>package fanshe;<br>/**</p><ul class="lvl-0"><li class="lvl-3"><p>获取Class对象的三种方式</p></li><li class="lvl-3"><p>1 Object ——&gt; getClass();</p></li><li class="lvl-3"><p>2 任何数据类型（包括基本数据类型）都有一个“静态”的class属性</p></li><li class="lvl-3"><p>3 通过Class类的静态方法：forName（String className）(常用)</p></li><li class="lvl-3"><p>*/<br>public class Fanshe {<br>public static void main(String[] args) {<br>//第一种方式获取Class对象<br>Student stu1 = new Student();//这一new 产生一个Student对象，一个Class对象。<br>Class stuClass = stu1.getClass();//获取Class对象<br>System.out.println(stuClass.getName());</p><pre><code> //第二种方式获取Class对象
 Class stuClass2 = Student.class;
 System.out.println(stuClass == stuClass2);//判断第一种方式获取的Class对象和第二种方式获取的是否是同一个
 
 //第三种方式获取Class对象
 try {
 	Class stuClass3 = Class.forName("fanshe.Student");//注意此字符串必须是真实路径，就是带包名的类路径，包名.类名
 	System.out.println(stuClass3 == stuClass2);//判断三种方式是否获取的是同一个Class对象
 } catch (ClassNotFoundException e) {
 	e.printStackTrace();
 }
</code></pre><p>}<br>}</p></li></ul><p>注意：在运行期间，一个类，只有一个Class对象产生。</p><p>三种方式常用第三种，第一种对象都有了还要反射干什么。第二种需要导入类的包，依赖太强，不导包就抛编译错误。一般都第三种，一个字符串可以传入也可写在配置文件中等多种方法。</p><p>2、通过反射获取构造方法并使用：</p><p>student类：<br>package fanshe;</p><p>public class Student {</p><pre><code>//---------------构造方法-------------------
//（默认的构造方法）
Student(String str){
	System.out.println("(默认)的构造方法 s = " + str);
}

//无参构造方法
public Student(){
	System.out.println("调用了公有、无参构造方法执行了。。。");
}

//有一个参数的构造方法
public Student(char name){
	System.out.println("姓名：" + name);
}

//有多个参数的构造方法
public Student(String name ,int age){
	System.out.println("姓名："+name+"年龄："+ age);//这的执行效率有问题，以后解决。
}

//受保护的构造方法
protected Student(boolean n){
	System.out.println("受保护的构造方法 n = " + n);
}

//私有构造方法
private Student(int age){
	System.out.println("私有的构造方法   年龄："+ age);
}
</code></pre><p>}</p><p>共有6个构造方法；</p><p>测试类：<br>package fanshe;</p><p>import java.lang.reflect.Constructor;</p><p>/*</p><ul class="lvl-0"><li class="lvl-3"><p>通过Class对象可以获取某个类中的：构造方法、成员变量、成员方法；并访问成员；</p></li><li class="lvl-3"></li><li class="lvl-3"><p>1.获取构造方法：</p></li><li class="lvl-3"><pre><code> 1).批量的方法：
</code></pre></li><li class="lvl-3"><pre><code> 	public Constructor[] getConstructors()：所有"公有的"构造方法
     public Constructor[] getDeclaredConstructors()：获取所有的构造方法(包括私有、受保护、默认、公有)
</code></pre></li><li class="lvl-3"><pre><code> 2).获取单个的方法，并调用：
</code></pre></li><li class="lvl-3"><pre><code> 	public Constructor getConstructor(Class... parameterTypes):获取单个的"公有的"构造方法：
</code></pre></li><li class="lvl-3"><pre><code> 	public Constructor getDeclaredConstructor(Class... parameterTypes):获取"某个构造方法"可以是私有的，或受保护、默认、公有；
</code></pre></li><li class="lvl-3"></li><li class="lvl-3"><pre><code> 	调用构造方法：
</code></pre></li><li class="lvl-3"><pre><code> 	Constructor--&gt;newInstance(Object... initargs)
</code></pre><p>*/<br>public class Constructors {</p><p>public static void main(String[] args) throws Exception {<br><a target="_blank" rel="noopener" href="//1.xn--Class-e86hq27cql5gr3f">//1.加载Class对象</a><br>Class clazz = Class.forName(“fanshe.Student”);</p><pre><code> //2.获取所有公有构造方法
 System.out.println("**********************所有公有构造方法*********************************");
 Constructor[] conArray = clazz.getConstructors();
 for(Constructor c : conArray){
 	System.out.println(c);
 }
</code></pre><p>​	​	System.out.println(“<strong><strong><strong><strong><strong><strong>所有的构造方法(包括：私有、受保护、默认、公有)</strong></strong></strong></strong></strong></strong><em><strong>");​	conArray = clazz.getDeclaredConstructors();​	for(Constructor c : conArray){​ System.out.println©;​	}​<br>System.out.println("<em><strong><strong><strong><strong><strong><strong><strong><strong>获取公有、无参的构造方法</strong></strong></strong></strong></strong></strong></strong></strong></em></strong></em>***********”);<br>Constructor con = clazz.getConstructor(null);<br>//1&gt;、因为是无参的构造方法所以类型是一个null,不写也可以：这里需要的是一个参数的类型，切记是类型<br>//2&gt;、返回的是描述这个无参构造函数的类对象。</p><pre><code> System.out.println("con = " + con);
 //调用构造方法
 Object obj = con.newInstance();
</code></pre><p>//	System.out.println("obj = " + obj);<br>//	Student stu = (Student)obj;</p><pre><code> System.out.println("******************获取私有构造方法，并调用*******************************");
 con = clazz.getDeclaredConstructor(char.class);
 System.out.println(con);
 //调用构造方法
 con.setAccessible(true);//暴力访问(忽略掉访问修饰符)
 obj = con.newInstance('男');
</code></pre><p>}</p></li></ul><p>}</p><p>后台输出：<br><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>所有公有构造方法</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>***********<br>public fanshe.Student(java.lang.String,int)<br>public fanshe.Student(char)<br>public fanshe.Student()<br><strong><strong><strong><strong><strong><strong>所有的构造方法(包括：私有、受保护、默认、公有)</strong></strong></strong></strong></strong></strong>***<br>private fanshe.Student(int)<br>protected fanshe.Student(boolean)<br>public fanshe.Student(java.lang.String,int)<br>public fanshe.Student(char)<br>public fanshe.Student()<br>fanshe.Student(java.lang.String)<br><em><strong><strong><strong><strong><strong><strong><strong><strong>获取公有、无参的构造方法</strong></strong></strong></strong></strong></strong></strong></strong></em>**************<br>con = public fanshe.Student()<br>调用了公有、无参构造方法执行了。。。<br><strong><strong><strong><strong><strong><strong><strong><strong><strong>获取私有构造方法，并调用</strong></strong></strong></strong></strong></strong></strong></strong></strong>*************<br>public fanshe.Student(char)<br>姓名：男</p><p>调用方法：<br>1.获取构造方法：<br>1).批量的方法：<br>public Constructor[] getConstructors()：所有"公有的"构造方法<br>public Constructor[] getDeclaredConstructors()：获取所有的构造方法(包括私有、受保护、默认、公有)</p><p>2).获取单个的方法，并调用：<br>public Constructor getConstructor(Class… parameterTypes):获取单个的"公有的"构造方法：<br>public Constructor getDeclaredConstructor(Class… parameterTypes):获取"某个构造方法"可以是私有的，或受保护、默认、公有；</p><p>调用构造方法：<br>Constructor–&gt;newInstance(Object… initargs)</p><p>2、 newInstance是 Constructor类的方法（管理构造函数的类）<br>api的解释为：<br>newInstance(Object… initargs)<br>使用此 Constructor 对象表示的构造方法来创建该构造方法的声明类的新实例，并用指定的初始化参数初始化该实例。它的返回值是T类型，所以newInstance是创建了一个构造方法的声明类的新实例对象。并为之调用<br>3、获取成员变量并调用</p><p>student类：<br>package fanshe.field;</p><p>public class Student {<br>public Student(){</p><pre><code>}
//**********字段*************//
public String name;
protected int age;
char sex;
private String phoneNum;

@Override
public String toString() {
	return "Student [name=" + name + ", age=" + age + ", sex=" + sex
			+ ", phoneNum=" + phoneNum + "]";
}
</code></pre><p>​<br>}</p><p>测试类：<br>package fanshe.field;<br>import java.lang.reflect.Field;<br>/*</p><ul class="lvl-0"><li class="lvl-3"><p>获取成员变量并调用：</p></li><li class="lvl-3"></li><li class="lvl-3"><p>1.批量的</p></li><li class="lvl-3"><pre><code> 1).Field[] getFields():获取所有的"公有字段"
</code></pre></li><li class="lvl-3"><pre><code> 2).Field[] getDeclaredFields():获取所有字段，包括：私有、受保护、默认、公有；
</code></pre></li><li class="lvl-3"><p>2.获取单个的：</p></li><li class="lvl-3"><pre><code> 1).public Field getField(String fieldName):获取某个"公有的"字段；
</code></pre></li><li class="lvl-3"><pre><code> 2).public Field getDeclaredField(String fieldName):获取某个字段(可以是私有的)
</code></pre></li><li class="lvl-3"></li><li class="lvl-5"><p>设置字段的值：</p></li><li class="lvl-3"><pre><code> Field --&gt; public void set(Object obj,Object value):
</code></pre></li><li class="lvl-3"><pre><code> 			参数说明：
</code></pre></li><li class="lvl-3"><pre><code> 			1.obj:要设置的字段所在的对象；
</code></pre></li><li class="lvl-3"><pre><code> 			2.value:要为字段设置的值；
</code></pre></li><li class="lvl-3"></li></ul><p>*/<br>public class Fields {</p><pre><code>	public static void main(String[] args) throws Exception {
		//1.获取Class对象
		Class stuClass = Class.forName("fanshe.field.Student");
		//2.获取字段
		System.out.println("************获取所有公有的字段********************");
		Field[] fieldArray = stuClass.getFields();
		for(Field f : fieldArray){
			System.out.println(f);
		}
		System.out.println("************获取所有的字段(包括私有、受保护、默认的)********************");
		fieldArray = stuClass.getDeclaredFields();
		for(Field f : fieldArray){
			System.out.println(f);
		}
		System.out.println("*************获取公有字段**并调用***********************************");
		Field f = stuClass.getField("name");
		System.out.println(f);
		//获取一个对象
		Object obj = stuClass.getConstructor().newInstance();//产生Student对象--》Student stu = new Student();
		//为字段设置值
		f.set(obj, "刘德华");//为Student对象中的name属性赋值--》stu.name = "刘德华"
		//验证
		Student stu = (Student)obj;
		System.out.println("验证姓名：" + stu.name);


​		
​		System.out.println("**************获取私有字段****并调用********************************");
​		f = stuClass.getDeclaredField("phoneNum");
​		System.out.println(f);
​		f.setAccessible(true);//暴力反射，解除私有限定
​		f.set(obj, "18888889999");
​		System.out.println("验证电话：" + stu);
​		
	}

}
</code></pre><p>后台输出：</p><p><strong><strong><strong><strong><strong><strong>获取所有公有的字段</strong></strong></strong></strong></strong></strong>********<br>public java.lang.String <a target="_blank" rel="noopener" href="http://fanshe.field.Student.name">fanshe.field.Student.name</a><br><strong><strong><strong><strong><strong><strong>获取所有的字段(包括私有、受保护、默认的)</strong></strong></strong></strong></strong></strong>********<br>public java.lang.String <a target="_blank" rel="noopener" href="http://fanshe.field.Student.name">fanshe.field.Student.name</a><br>protected int fanshe.field.Student.age<br>char fanshe.field.Student.sex<br>private java.lang.String fanshe.field.Student.phoneNum<br><em><strong><strong><strong><strong><strong><strong>获取公有字段<strong>并调用</strong></strong></strong></strong></strong></strong></strong></em>********************<br>public java.lang.String <a target="_blank" rel="noopener" href="http://fanshe.field.Student.name">fanshe.field.Student.name</a><br>验证姓名：刘德华<br><strong><strong><strong><strong><strong><strong><strong>获取私有字段****并调用</strong></strong></strong></strong></strong></strong></strong>******************<br>private java.lang.String fanshe.field.Student.phoneNum<br>验证电话：Student [name=刘德华, age=0, sex=</p><p>由此可见调用字段时：需要传递两个参数：<br>Object obj = stuClass.getConstructor().newInstance();//产生Student对象–》Student stu = new Student();<br>//为字段设置值<br>f.set(obj, “刘德华”);//为Student对象中的name属性赋值–》<a target="_blank" rel="noopener" href="http://stu.name">stu.name</a> = “刘德华”<br>第一个参数：要传入设置的对象，第二个参数：要传入实参<br>4、获取成员方法并调用</p><p>student类：<br>package fanshe.method;</p><p>public class Student {<br>//<strong><strong><strong><strong><strong><strong><strong>成员方法</strong></strong></strong></strong></strong></strong></strong>*//<br>public void show1(String s){<br>System.out.println("调用了：公有的，String参数的show1(): s = " + s);<br>}<br>protected void show2(){<br>System.out.println(“调用了：受保护的，无参的show2()”);<br>}<br>void show3(){<br>System.out.println(“调用了：默认的，无参的show3()”);<br>}<br>private String show4(int age){<br>System.out.println("调用了，私有的，并且有返回值的，int参数的show4(): age = " + age);<br>return “abcd”;<br>}<br>}</p><p>测试类：<br>package fanshe.method;</p><p>import java.lang.reflect.Method;</p><p>/*</p><ul class="lvl-0"><li class="lvl-3"><p>获取成员方法并调用：</p></li><li class="lvl-3"></li><li class="lvl-3"><p>1.批量的：</p></li><li class="lvl-3"><pre><code> public Method[] getMethods():获取所有"公有方法"；（包含了父类的方法也包含Object类）
</code></pre></li><li class="lvl-3"><pre><code> public Method[] getDeclaredMethods():获取所有的成员方法，包括私有的(不包括继承的)
</code></pre></li><li class="lvl-3"><p>2.获取单个的：</p></li><li class="lvl-3"><pre><code> public Method getMethod(String name,Class&lt;?&gt;... parameterTypes):
</code></pre></li><li class="lvl-3"><pre><code> 			参数：
</code></pre></li><li class="lvl-3"><pre><code> 				name : 方法名；
</code></pre></li><li class="lvl-3"><pre><code> 				Class ... : 形参的Class类型对象
</code></pre></li><li class="lvl-3"><pre><code> public Method getDeclaredMethod(String name,Class&lt;?&gt;... parameterTypes)
</code></pre></li><li class="lvl-3"></li><li class="lvl-5"><p>调用方法：</p></li><li class="lvl-3"><pre><code> Method --&gt; public Object invoke(Object obj,Object... args):
</code></pre></li><li class="lvl-3"><pre><code> 			参数说明：
</code></pre></li><li class="lvl-3"><pre><code> 			obj : 要调用方法的对象；
</code></pre></li><li class="lvl-3"><p>args:调用方式时所传递的实参；<br>):<br>*/<br>public class MethodClass {</p><p>public static void main(String[] args) throws Exception {<br><a target="_blank" rel="noopener" href="//1.xn--Class-jr8hg00ck58etkq">//1.获取Class对象</a><br>Class stuClass = Class.forName(“fanshe.method.Student”);<br><a target="_blank" rel="noopener" href="//2.xn--55qr2dkwvwld7zbba305h179b">//2.获取所有公有方法</a><br>System.out.println(“<em><strong><strong><strong><strong><strong><strong><strong>获取所有的”公有“方法</strong></strong></strong></strong></strong></strong></strong></em>****”);<br>stuClass.getMethods();<br>Method[] methodArray = stuClass.getMethods();<br>for(Method m : methodArray){<br>System.out.println(m);<br>}<br>System.out.println(“<em><strong><strong><strong><strong><strong><strong><strong>获取所有的方法，包括私有的</strong></strong></strong></strong></strong></strong></strong></em>****”);<br>methodArray = stuClass.getDeclaredMethods();<br>for(Method m : methodArray){<br>System.out.println(m);<br>}<br>System.out.println(“<em><strong><strong><strong><strong><strong><strong><strong>获取公有的show1()方法</strong></strong></strong></strong></strong></strong></strong></em>****”);<br>Method m = stuClass.getMethod(“show1”, String.class);<br>System.out.println(m);<br>//实例化一个Student对象<br>Object obj = stuClass.getConstructor().newInstance();<br>m.invoke(obj, “刘德华”);</p><p>System.out.println(“<em><strong><strong><strong><strong><strong><strong><strong>获取私有的show4()方法</strong></strong></strong></strong></strong></strong></strong></em>***”);<br>m = stuClass.getDeclaredMethod(“show4”, int.class);<br>System.out.println(m);<br>m.setAccessible(true);//解除私有限定<br>Object result = m.invoke(obj, 20);//需要两个参数，一个是要调用的对象（获取有反射），一个是实参<br>System.out.println(“返回值：” + result);</p><p>​<br>}<br>}</p></li></ul><p>控制台输出：<br><em><strong><strong><strong><strong><strong><strong><strong>获取所有的”公有“方法</strong></strong></strong></strong></strong></strong></strong></em>****<br>public void fanshe.method.Student.show1(java.lang.String)<br>public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException<br>public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException<br>public final void java.lang.Object.wait() throws java.lang.InterruptedException<br>public boolean java.lang.Object.equals(java.lang.Object)<br>public java.lang.String java.lang.Object.toString()<br>public native int java.lang.Object.hashCode()<br>public final native java.lang.Class java.lang.Object.getClass()<br>public final native void java.lang.Object.notify()<br>public final native void java.lang.Object.notifyAll()<br><em><strong><strong><strong><strong><strong><strong><strong>获取所有的方法，包括私有的</strong></strong></strong></strong></strong></strong></strong></em>****<br>public void fanshe.method.Student.show1(java.lang.String)<br>private java.lang.String fanshe.method.Student.show4(int)<br>protected void fanshe.method.Student.show2()<br>void fanshe.method.Student.show3()<br><em><strong><strong><strong><strong><strong><strong><strong>获取公有的show1()方法</strong></strong></strong></strong></strong></strong></strong></em>****<br>public void fanshe.method.Student.show1(java.lang.String)<br>调用了：公有的，String参数的show1(): s = 刘德华<br><em><strong><strong><strong><strong><strong><strong><strong>获取私有的show4()方法</strong></strong></strong></strong></strong></strong></strong></em>***<br>private java.lang.String fanshe.method.Student.show4(int)<br>调用了，私有的，并且有返回值的，int参数的show4(): age = 20<br>返回值：abcd</p><p>由此可见：<br>m = stuClass.getDeclaredMethod(“show4”, int.class);//调用制定方法（所有包括私有的），需要传入两个参数，第一个是调用的方法名称，第二个是方法的形参类型，切记是类型。<br>System.out.println(m);<br>m.setAccessible(true);//解除私有限定<br>Object result = m.invoke(obj, 20);//需要两个参数，一个是要调用的对象（获取有反射），一个是实参<br>System.out.println(“返回值：” + result);//</p><p>控制台输出：<br><em><strong><strong><strong><strong><strong><strong><strong>获取所有的”公有“方法</strong></strong></strong></strong></strong></strong></strong></em>****<br>public void fanshe.method.Student.show1(java.lang.String)<br>public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException<br>public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException<br>public final void java.lang.Object.wait() throws java.lang.InterruptedException<br>public boolean java.lang.Object.equals(java.lang.Object)<br>public java.lang.String java.lang.Object.toString()<br>public native int java.lang.Object.hashCode()<br>public final native java.lang.Class java.lang.Object.getClass()<br>public final native void java.lang.Object.notify()<br>public final native void java.lang.Object.notifyAll()<br><em><strong><strong><strong><strong><strong><strong><strong>获取所有的方法，包括私有的</strong></strong></strong></strong></strong></strong></strong></em>****<br>public void fanshe.method.Student.show1(java.lang.String)<br>private java.lang.String fanshe.method.Student.show4(int)<br>protected void fanshe.method.Student.show2()<br>void fanshe.method.Student.show3()<br><em><strong><strong><strong><strong><strong><strong><strong>获取公有的show1()方法</strong></strong></strong></strong></strong></strong></strong></em>****<br>public void fanshe.method.Student.show1(java.lang.String)<br>调用了：公有的，String参数的show1(): s = 刘德华<br><em><strong><strong><strong><strong><strong><strong><strong>获取私有的show4()方法</strong></strong></strong></strong></strong></strong></strong></em>***<br>private java.lang.String fanshe.method.Student.show4(int)<br>调用了，私有的，并且有返回值的，int参数的show4(): age = 20<br>返回值：abcd</p><p>其实这里的成员方法：在模型中有属性一词，就是那些setter（）方法和getter()方法。还有字段组成，这些内容在内省中详解<br>5、反射main方法</p><p>student类：<br>package fanshe.main;</p><p>public class Student {</p><pre><code>public static void main(String[] args) {
	System.out.println("main方法执行了。。。");
}
</code></pre><p>}</p><p>测试类：<br>package fanshe.main;</p><p>import java.lang.reflect.Method;</p><p>/**</p><ul class="lvl-0"><li class="lvl-3"><p>获取Student类的main方法、不要与当前的main方法搞混了<br>*/<br>public class Main {</p><p>public static void main(String[] args) {<br>try {<br>//1、获取Student对象的字节码<br>Class clazz = Class.forName(“fanshe.main.Student”);</p><pre><code> 	//2、获取main方法
 	 Method methodMain = clazz.getMethod("main", String[].class);//第一个参数：方法名称，第二个参数：方法形参的类型，
 	//3、调用main方法
 	// methodMain.invoke(null, new String[]{"a","b","c"});
 	 //第一个参数，对象类型，因为方法是static静态的，所以为null可以，第二个参数是String数组，这里要注意在jdk1.4时是数组，jdk1.5之后是可变参数
 	 //这里拆的时候将  new String[]{"a","b","c"} 拆成3个对象。。。所以需要将它强转。
 	 methodMain.invoke(null, (Object)new String[]{"a","b","c"});//方式一
 	// methodMain.invoke(null, new Object[]{new String[]{"a","b","c"}});//方式二
 	
 } catch (Exception e) {
 	e.printStackTrace();
 }
</code></pre><p>​<br>}<br>}</p></li></ul><p>控制台输出：<br>main方法执行了。。。<br>6、反射方法的其它使用之—通过反射运行配置文件内容</p><p>student类：<br>public class Student {<br>public void show(){<br>System.out.println(“is show()”);<br>}<br>}</p><p>配置文件以txt文件为例子（pro.txt）：<br>className = cn.fanshe.Student<br>methodName = show</p><p>测试类：<br>import java.io.FileNotFoundException;<br>import java.io.FileReader;<br>import java.io.IOException;<br>import java.lang.reflect.Method;<br>import java.util.Properties;</p><p>/*</p><ul class="lvl-0"><li class="lvl-3"><p>我们利用反射和配置文件，可以使：应用程序更新时，对源码无需进行任何修改</p></li><li class="lvl-3"><p>我们只需要将新类发送给客户端，并修改配置文件即可<br>*/<br>public class Demo {<br>public static void main(String[] args) throws Exception {<br>//通过反射获取Class对象<br>Class stuClass = Class.forName(getValue(“className”));//“cn.fanshe.Student”<br>//2获取show()方法<br>Method m = stuClass.getMethod(getValue(“methodName”));//show<br><a target="_blank" rel="noopener" href="//3.xn--show-k55jn64i">//3.调用show</a>()方法<br>m.invoke(stuClass.getConstructor().newInstance());</p><p>}</p><p>//此方法接收一个key，在配置文件中获取相应的value<br>public static String getValue(String key) throws IOException{<br>Properties pro = new Properties();//获取配置文件的对象<br>FileReader in = new FileReader(“pro.txt”);//获取输入流<br>pro.load(in);//将流加载到配置文件对象中<br>in.close();<br>return pro.getProperty(key);//返回根据key获取的value值<br>}<br>}</p></li></ul><p>控制台输出：<br>is show()</p><p>需求：当我们升级这个系统时，不要Student类，而需要新写一个Student2的类时，这时只需要更改pro.txt的文件内容就可以了。代码就一点不用改动</p><p>要替换的student2类：<br>public class Student2 {<br>public void show2(){<br>System.out.println(“is show2()”);<br>}<br>}</p><p>配置文件更改为：<br>className = cn.fanshe.Student2<br>methodName = show2<br>控制台输出：<br>is show2();<br>7、反射方法的其它使用之—通过反射越过泛型检查</p><p>泛型用在编译期，编译过后泛型擦除（消失掉）。所以是可以通过反射越过泛型检查的测试类：<br>import java.lang.reflect.Method;<br>import java.util.ArrayList;</p><p>/*</p><ul class="lvl-0"><li class="lvl-3"><p>通过反射越过泛型检查</p></li><li class="lvl-3"></li><li class="lvl-3"><p>例如：有一个String泛型的集合，怎样能向这个集合中添加一个Integer类型的值？<br>*/<br>public class Demo {<br>public static void main(String[] args) throws Exception{<br>ArrayList<string>strList = new ArrayList&lt;&gt;();<br>strList.add(“aaa”);<br>strList.add(“bbb”);</string></p><p>//	strList.add(100);<br>//获取ArrayList的Class对象，反向的调用add()方法，添加数据<br>Class listClass = strList.getClass(); //得到 strList 对象的字节码 对象<br>//获取add()方法<br>Method m = listClass.getMethod(“add”, Object.class);<br>//调用add()方法<br>m.invoke(strList, 100);</p><pre><code> //遍历集合
 for(Object obj : strList){
 	System.out.println(obj);
 }
</code></pre><p>}<br>}</p></li></ul><p>控制台输出：<br>aaa<br>bbb<br>100</p></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者: </i></span><span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">丁一</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接: </i></span><span class="reprint-info"><a href="https://dingyidreams.com/2021/11/11/java-fan-she/">https://dingyidreams.com/2021/11/11/java-fan-she/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明: </i></span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">丁一</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><span class="chip bg-color">无标签</span></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="/libs/share/js/social-share.min.js"></script></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22ab38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019fe8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><style>.valine-card{margin:1.5rem auto}.valine-card .card-content{padding:20px 20px 5px 20px}#vcomments textarea{box-sizing:border-box;background:url(https://cdn.jsdelivr.net/gh/Yafine/cdn@3.1.1/social/comment_bg.png) 100% 100% no-repeat}#vcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem}#vcomments blockquote p{text-indent:.2rem}#vcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#vcomments img{max-width:100%;height:auto;cursor:pointer}#vcomments ol li{list-style-type:decimal}#vcomments ol,ul{display:block;padding-left:2em;word-spacing:.05rem}#vcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#vcomments ul li{list-style-type:disc}#vcomments ul ul li{list-style-type:circle}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#vcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#vcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#vcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#vcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#vcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#vcomments h6{font-size:1rem;line-height:1.3rem}#vcomments p{font-size:1rem;line-height:1.5rem}#vcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#vcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#vcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#vcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#vcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#vcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#vcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#vcomments b,strong{font-weight:700}#vcomments dfn{font-style:italic}#vcomments small{font-size:85%}#vcomments cite{font-style:normal}#vcomments mark{background-color:#fcf8e3;padding:.2em}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card valine-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="vcomments" class="card-content" style="display:grid"></div></div><script src="/libs/valine/av-min.js"></script><script src="/libs/valine/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"ugrCXJtsapduyVcY1j6g0YkQ-gzGzoHsz",appKey:"XhFi3xbIoz6iDkFKQXzKTXi8",serverURLs:"",notify:!1,verify:!1,visitor:!0,avatar:"mm",pageSize:"10",lang:"zh-cn",placeholder:"just go go"})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i>&nbsp;上一篇</div><div class="card"><a href="/2022/08/04/mysql-shu-ju-ye-b-shu-suo-yin/"><div class="card-image"><img src="https://img-blog.csdnimg.cn/aea9569d1a834902a53fd755aa69f222.jpeg" class="responsive-img" alt="MySQL_数据页、b+树索引"> <span class="card-title">MySQL_数据页、b+树索引</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2022-08-04 </span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/MySql/" class="post-category">MySql</a></span></div></div><div class="card-action article-tags"><a href="/tags/Mysql/"><span class="chip bg-color">Mysql</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/2021/11/10/java-jdk8-xin-te-xing/"><div class="card-image"><img src="https://img-blog.csdnimg.cn/d28a076523144cf3aafe65d580c64cec.jpeg" class="responsive-img" alt="JAVA-jdk8新特性"> <span class="card-title">JAVA-jdk8新特性</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2021-11-10 </span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/JAVA%E5%9F%BA%E7%A1%80/" class="post-category">JAVA基础</a></span></div></div></div></div></div></article></div><script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script><script type="text/javascript" src="/libs/prism/prism.min.js"></script><script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script><script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script><script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card" style="background-color:#fff"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('2'),
            headingSelector: 'h2, h3, h4, h5'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><footer class="page-footer bg-color"><link rel="stylesheet" href="/libs/aplayer/APlayer.min.css"><style>.aplayer .aplayer-lrc p{display:none;font-size:12px;font-weight:700;line-height:16px!important}.aplayer .aplayer-lrc p.aplayer-lrc-current{display:none;font-size:15px;color:#42b983}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><div><div class="row"><meting-js class="col l8 offset-l2 m10 offset-m1 s12" server="netease" type="playlist" id="503838841" fixed="true" autoplay theme="#42b983" loop order="random" preload="auto" volume="0.7" list-folded="true"></meting-js></div></div><script src="/libs/aplayer/APlayer.min.js"></script><script src="/libs/aplayer/Meting.min.js"></script><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2022-2023</span> <a href="/about" target="_blank">丁一</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">134.6k</span> <span id="busuanzi_container_site_pv">&nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp; <span id="busuanzi_value_site_pv" class="white-color"></span> </span><span id="busuanzi_container_site_uv">&nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp; <span id="busuanzi_value_site_uv" class="white-color"></span></span><br><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/DreamUnity" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i> </a><a href="mailto:704193119@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i> </a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=704193319" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 704193319" data-position="top" data-delay="50"><i class="fab fa-qq"></i> </a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script type="text/javascript">$(function(){!function(t,s,i){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),n=document.getElementById(s),r=document.getElementById(i);n.addEventListener("input",function(){var f='<ul class="search-result-list">',m=this.value.trim().toLowerCase().split(/[\s\-]+/);r.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var n,e,r,s,i,l=!0,a=t.title.trim().toLowerCase(),c=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),u=0===(u=t.url).indexOf("/")?t.url:"/"+u,o=-1,h=-1;""!==a&&""!==c&&m.forEach(function(t,e){n=a.indexOf(t),o=c.indexOf(t),n<0&&o<0?l=!1:(o<0&&(o=0),0===e&&(h=o))}),l&&(f+="<li><a href='"+u+"' class='search-result-title'>"+a+"</a>",e=t.content.trim().replace(/<[^>]+>/g,""),0<=h&&(s=h+80,(r=h-20)<0&&(r=0),0===r&&(s=100),s>e.length&&(s=e.length),i=e.substr(r,s),m.forEach(function(t){var e=new RegExp(t,"gi");i=i.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+i+"...</p>"),f+="</li>")}),f+="</ul>",r.innerHTML=f)})}})}("/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script src="https://ssl.captcha.qq.com/TCaptcha.js"></script><script src="/libs/others/TencentCaptcha.js"></script><button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script async src="/libs/others/busuanzi.pure.mini.js"></script><script src="/libs/instantpage/instantpage.js" type="module"></script></body></html>