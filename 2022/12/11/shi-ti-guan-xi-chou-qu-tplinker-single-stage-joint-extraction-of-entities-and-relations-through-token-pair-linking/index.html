<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="TPLinker:Single-stage Joint Extraction of Entities and Relations Through Token Pair Linking, 丁一的博客"><meta name="description" content="2020.10.26｜COLING-2020｜中国科学院大学｜原文链接｜源码链接
TPLinker: Single-stage Joint Extraction of Entities and Relations Through Token"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><title>TPLinker:Single-stage Joint Extraction of Entities and Relations Through Token Pair Linking | 丁一的博客</title><link rel="icon" type="image/png" href="/medias/comment_bg.png"><link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css"><link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" type="text/css" href="/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="/css/matery.css"><link rel="stylesheet" type="text/css" href="/css/my.css"><script src="/libs/jquery/jquery-3.6.0.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css"><style type="text/css" lang="css">#loading-container{position:fixed;top:0;left:0;min-height:100vh;width:100vw;z-index:9999;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;text-align:center;-webkit-transition:opacity 1s ease;-moz-transition:opacity 1s ease;-o-transition:opacity 1s ease;transition:opacity 1s ease}.loading-image{width:120px;height:50px;transform:translate(-50%)}.loading-image div:nth-child(2){-webkit-animation:pacman-balls 1s linear 0s infinite;animation:pacman-balls 1s linear 0s infinite}.loading-image div:nth-child(3){-webkit-animation:pacman-balls 1s linear .33s infinite;animation:pacman-balls 1s linear .33s infinite}.loading-image div:nth-child(4){-webkit-animation:pacman-balls 1s linear .66s infinite;animation:pacman-balls 1s linear .66s infinite}.loading-image div:nth-child(5){-webkit-animation:pacman-balls 1s linear .99s infinite;animation:pacman-balls 1s linear .99s infinite}.loading-image div:first-of-type{width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_up .5s 0s infinite;animation:rotate_pacman_half_up .5s 0s infinite}.loading-image div:nth-child(2){width:0;height:0;border:25px solid #49b1f5;border-right-color:transparent;border-radius:25px;-webkit-animation:rotate_pacman_half_down .5s 0s infinite;animation:rotate_pacman_half_down .5s 0s infinite;margin-top:-50px}@-webkit-keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@keyframes rotate_pacman_half_up{0%{transform:rotate(270deg)}50%{transform:rotate(1turn)}to{transform:rotate(270deg)}}@-webkit-keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@keyframes rotate_pacman_half_down{0%{transform:rotate(90deg)}50%{transform:rotate(0)}to{transform:rotate(90deg)}}@-webkit-keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}@keyframes pacman-balls{75%{opacity:.7}to{transform:translate(-100px,-6.25px)}}.loading-image div:nth-child(3),.loading-image div:nth-child(4),.loading-image div:nth-child(5),.loading-image div:nth-child(6){background-color:#49b1f5;width:15px;height:15px;border-radius:100%;margin:2px;width:10px;height:10px;position:absolute;transform:translateY(-6.25px);top:25px;left:100px}.loading-text{margin-bottom:20vh;text-align:center;color:#2c3e50;font-size:2rem;box-sizing:border-box;padding:0 10px;text-shadow:0 2px 10px rgba(0,0,0,.2)}@media only screen and (max-width:500px){.loading-text{font-size:1.5rem}}.fadeout{opacity:0}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0)}}</style><script>(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//使用渐隐的方法淡出loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1000); 
        },1000);//强制显示loading page 1s  
    };
    loaded();
})()</script><meta name="generator" content="Hexo 5.4.2"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="alternate" href="/atom.xml" title="丁一的博客" type="application/atom+xml"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><script src="https://cdn.jsdelivr.net/npm/bluebird@3/js/browser/bluebird.min.js"></script><script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@2.0.3/fetch.min.js"></script><script>fetch("https://v1.hitokoto.cn").then(function(t){return t.json()}).then(function(t){document.getElementById("hitokoto").innerText=t.hitokoto+"——【"+t.from+"】"}).catch(function(t){console.error(t)})</script><div id="loading-container"><p class="loading-text">玩命加载中 . . .</p><div class="loading-image"><div></div><div></div><div></div><div></div><div></div></div></div><body><div class="stars-con"><div id="stars"></div><div id="stars2"></div><div id="stars3"></div></div><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg> <a onclick="switchNightMode()" class="icon-V hidden" title="切换主题"><svg width="48" height="48" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><script>function checkNightMode(){"1"===localStorage.getItem("isDark")||"0"!==localStorage.getItem("isDark")&&(20<=(new Date).getHours()||(new Date).getHours()<7||matchMedia("(prefers-color-scheme: dark)").matches)?($("body").addClass("DarkMode"),$("#changeMode-top").removeClass("fa-moon").addClass("fa-sun"),$("#modeicon").attr("xlink:href","#icon-sun")):$("#modeicon").attr("xlink:href","#icon-moon")}function switchNightMode(){$('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($("body")),setTimeout(function(){$("body").hasClass("DarkMode")?($("body").removeClass("DarkMode"),localStorage.setItem("isDark","0"),$("#changeMode-top").removeClass("fa-sun").addClass("fa-moon"),$("#modeicon").attr("xlink:href","#icon-moon")):($("body").addClass("DarkMode"),localStorage.setItem("isDark","1"),$("#changeMode-top").removeClass("fa-moon").addClass("fa-sun"),$("#modeicon").attr("xlink:href","#icon-sun")),setTimeout(function(){$(".Cuteen_DarkSky").fadeOut(1e3,function(){$(this).remove()})},2e3)})}function switchNightModeTop(){$("body").hasClass("DarkMode")?($("body").removeClass("DarkMode"),localStorage.setItem("isDark","0"),$("#changeMode-top").removeClass("fa-sun").addClass("fa-moon"),$("#modeicon").attr("xlink:href","#icon-moon")):($("body").addClass("DarkMode"),localStorage.setItem("isDark","1"),$("#changeMode-top").removeClass("fa-moon").addClass("fa-sun"),$("#modeicon").attr("xlink:href","#icon-sun"))}</script><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><div><img src="/medias/book.gif" class="logo-img" alt="LOGO"> <span class="logo-span">丁一的博客</span></div></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>时间轴</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fas fa-list" style="zoom:.6"></i> <span>工具</span> <i class="fas fa-chevron-down" aria-hidden="true" style="zoom:.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/friends"><i class="fas fa-address-book" style="margin-top:-20px;zoom:.6"></i> <span>留言</span></a></li></ul></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="/medias/book.gif" class="logo-img circle responsive-img"><div class="logo-name">丁一的博客</div><div class="logo-desc">DingYi的博客</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 时间轴</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fas fa-list"></i> 工具 <span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/friends" style="margin-left:75px"><i class="fa fas fa-address-book" style="position:absolute;left:50px"></i> <span>留言</span></a></li></ul></li></ul></div></div></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(https://cdn.jsdelivr.net/gh/DreamUnity/cdn/image/titleBackground/5.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">TPLinker:Single-stage Joint Extraction of Entities and Relations Through Token Pair Linking</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{padding:35px 0 15px 17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{padding-bottom:30px;overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px;position:absolute;right:23.5vw;display:block}#toc-content .is-active-link{color:#42b983}#floating-toc-btn{position:fixed;right:15px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/%E9%A1%B6%E4%BC%9A%E8%AE%BA%E6%96%87/"><span class="chip bg-color">顶会论文</span> </a><a href="/tags/%E4%B8%89%E5%85%83%E7%BB%84%E6%8A%BD%E5%8F%96/"><span class="chip bg-color">三元组抽取</span> </a><a href="/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/"><span class="chip bg-color">自然语言处理</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/" class="post-category">实体关系抽取</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp; 2022-12-11</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp; 3.1k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp; 11 分</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp; <span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><link rel="stylesheet" href="/libs/prism/prism.min.css"><div class="card-content article-card-content"><div id="articleContent"><p>2020.10.26｜COLING-2020｜中国科学院大学｜<a target="_blank" rel="noopener" href="https://arxiv.org/pdf/2205.05270.pdf">原文链接</a>｜<a target="_blank" rel="noopener" href="https://github.com/131250208/TPlinker-joint-extraction">源码链接</a></p><h1>TPLinker: Single-stage Joint Extraction of Entities and Relations Through Token Pair Linking</h1><p><mark>过去的方法：</mark>联合学习可以获得明显的性能增益。 然而，它们通常涉及顺序的相互关联的步骤，并遭受暴露偏差的问题。 在训练时，他们根据地面真值条件进行预测，而在推理时，他们必须从头开始提取。 这种差异导致错误积累。</p><blockquote><p>地面真值：在机器学习中，“ground truth”一词指的是训练集对监督学习技术的分类的准确性。这在统计模型中被用来证明或否定研究假设。“ground truth”这个术语指的是为这个测试收集适当的目标（可证明的）数据的过程。</p></blockquote><p><mark>论文中的方法：</mark>握手标注方法提出了一个单阶段联合提取模型TPLINKER，它能够发现共享一个或两个实体的重叠关系，同时不受暴露偏差的影响</p><h2 id="基础准备-2"><a class="header-anchor" href="#基础准备-2"></a>基础准备</h2><p>过去阶段一：把实体识别和关系抽取完全分离，容易造成级联错误过去阶段二：联合学习整合实体和关系信息，使用基于解码器和基于分解的模型解决EPO和SEO，容易产生曝光偏差</p><blockquote><p>基于编码器的：训练时，<code>地面真值令牌</code>被用作为上下文，推理时整个序列整个序列由最终模型自己生成，产生了训练和推理中预测的令牌是从不同的分布中提取的基于分解的方法：在训练过程中使用<code>黄金实体</code>作为特定的输入来指导训练，在推理过程中输入的中心实体是由经过训练的模型给出的，导致了训练和推理之间的差距</p><blockquote><p>[黄金标准] 是经过注释的数据集（手动 或自动），然后手动更正。</p></blockquote></blockquote><p>该文章中的：<mark>提出了一种用于实体和重叠关系联合提取的单阶段方法——TPLinker</mark><br>将联合抽取任务转化为令牌对链接的问题，TPLinker将被用于回答以下问题：前提条件：给出一个句子、两个位置P1\P2和一个特定关系R</p><ol><li class="lvl-3"><p>“P1和P2是否分别是同一个实体的开始和结束位置”</p></li><li class="lvl-3"><p>“P1和P2是否分别是两个具有R关系的实体的开始位置”</p></li><li class="lvl-3"><p>“P1和P2是否分别是两个具有R关系的实体的结束位置”</p></li></ol><p>实施：为每个关系标注了三个令牌链接矩阵，利用这三个令牌链接矩阵回答上述三个问题，然后利用这些矩阵对不同的标注结果进行解码，提取所有实体和重叠关系。效果：不包含任何相互依赖的提取不走，实现了训练和测试的一致性</p><h2 id="方案详解："><a class="header-anchor" href="#方案详解："></a>方案详解：</h2><h3 id="握手标记方案："><a class="header-anchor" href="#握手标记方案："></a>握手标记方案：</h3><h4 id="普通矩阵方案："><a class="header-anchor" href="#普通矩阵方案："></a>普通矩阵方案：</h4><p>通过用链接标记方法进行标记令牌对，实现了一步联合抽取<br><img src="https://img-blog.csdnimg.cn/6eed5af506c349a78d60cbfdbffdff44.png#pic_center" alt="标记矩阵" width="300"></p><p>如上图，给定一个句子，枚举所有可能的令牌对，病使用矩阵标记令牌链接，但是有以下问题：是<code>稀疏矩阵</code>，由于实体尾部不可能出现在实体头部之前，所以下三角区域的标签都是零，这是对内存的巨大浪费。但是，目标实体可能出现在相应的主体实体之前，这意味着直接将下三角区域降下来是不合理的。</p><blockquote><p>三种类型的链接定义：</p><ol><li class="lvl-3"><code>实体头到实体尾（EH-to-ET）</code>。 矩阵中的紫色标记是指对应的两个位置分别是<code>一个实体的开始和结束令牌</code>。 例如，“New York CIty”和“de Blasio”是句子中的两个实体，因此，标记对（“new”,“city”）和（“de”,“Blasio”）被赋予紫色标记1。</li><li class="lvl-3"><code>主体头到客体头（SH-to-OH）</code>。 红色标签表示两个位置分别是<code>成对的主体实体和对象实体的开始令牌</code>。 例如，“New York CIty”和“de Blasio”之间存在“mayor”关系，因此标记对（“new”和“de”）被分配为红色标记1。</li><li class="lvl-3"><code>主语尾到宾语尾（ST-to-OT）</code>。 蓝色标签与红色标签具有类似的逻辑，这意味着两个位置<code>分别是成对的主体实体和对象实体的结束标记</code>。 例如，标记对（“City”、“Blasio”）被分配蓝色标记1。</li></ol></blockquote><h4 id="握手矩阵方案："><a class="header-anchor" href="#握手矩阵方案："></a>握手矩阵方案：</h4><p>将<code>下三角区域</code>中的所有<code>标签1</code>映射到<code>上三角区域中</code>的<code>标签2</code>，然后删掉下三角区域。为了张量计算方便，将剩下的项压缩成一个序列，即总框架图中的橙色序列，并<code>用一个映射记住原矩阵中的位置</code>，类似于所有令牌中的握手，故称为握手矩阵。</p><p><mark>存在的问题</mark>：该方案不能处理EPO问题，因为对于同一实体对，不同的关系不能在同一矩阵中标记在一起。<mark>解决方法</mark>：我们为每种关系类型做同样的矩阵标记工作。<br><img src="https://img-blog.csdnimg.cn/b6dce679185c4fc6b610752e1a3b6ac4.png#pic_center" alt="握手矩阵" width="300"></p><h4 id="构造矩阵进行标注："><a class="header-anchor" href="#构造矩阵进行标注："></a>构造矩阵进行标注：</h4><p>联合抽取任务被解构为$2N+1$个序列标记子任务，其中N表示预定义关系类型的数量，每个子任务建立一个长度为$\frac{n^2+n}{2}$的标记序列，其中$n$表示输入句子的长度。<mark>存在的问题</mark>：标签序列的长度随着句子长度的增加而以平方的形式增加，比较抵消<mark>解决方法</mark>：再编码器的顶部使用轻量级标记模型，TPLinker在效率上可以与最先进的模型与之媲美。因为，编码器被所有标记起共享，只需要生成n个令牌表示一次<br><img src="https://img-blog.csdnimg.cn/8a2ea22a7243471e99e5998903b965cf.png" alt="TPLinker框架图"></p><h4 id="解码："><a class="header-anchor" href="#解码："></a>解码：</h4><ul class="lvl-0"><li class="lvl-2"><p>（“new”,“york”）、（“new”,“city”）和（“de”,“blasio”）在EH-to-ET序列中标记为1</p></li><li class="lvl-2"><blockquote><p>“new york”、“new york city”和“de blasio”是三个实体</p></blockquote></li><li class="lvl-2"><p>对于关系“mayor”，（“new”、“de”）在SH-to-OH序列中标记为1</p></li><li class="lvl-2"><blockquote><p>“new”开头的主语的mayor是以“de”开头的宾语</p></blockquote></li><li class="lvl-2"><p>（“City”、“Blasio”）在ST-to-OT序列中标记为1</p></li><li class="lvl-2"><blockquote><p>主语和宾语分别是以“City”和“Blasio”结尾的实体</p></blockquote></li><li class="lvl-2"><p>由此，<mark>可以解码出一个三胞胎：（“New York City”，Major，“Blasio”）</mark></p></li></ul><hr><p><mark>标记2与标记1的含义相反，表示令牌之间的反向链接，因为矩阵中反转了</mark>在关系“born in”的ST-to-OT序列中（“York”、“Blasio”）标记为2，这意味着“York”和“Blasio”分别是<code>成对的宾语和主语的尾部</code>结合其他两个序列，解码后的应该是（“Blasio”，“born in”，“York”）。</p><hr><h4 id="对于每一个关系"><a class="header-anchor" href="#对于每一个关系"></a>对于每一个关系</h4><ol><li class="lvl-3"><p>首先从<code>EH-to-ET序列</code>中提取所有的<code>实体</code>跨度，将每个头位置映射到<code>以该位置为起点的相应实体</code>存入字典D</p></li><li class="lvl-3"><p>对于每一个关系，首先从<code>ST-to-OT</code>序列中解码（主题尾位置，宾语尾位置）元组并将其<code>添加到集合E</code>中，然后从<code>SH-to-OH</code>序列中解码（主题头位置，宾语头位置）元组并查找<code>字典D中以头位置为起点</code>的所有可能的实体。</p></li><li class="lvl-3"><p>我们迭代<code>所有候选主宾对</code>，以检查它们的尾位置是否在E中。如果是，则提取一个新的三元组并添加到<code>结果集T</code>中。</p></li></ol><hr><h4 id="令牌对表示："><a class="header-anchor" href="#令牌对表示："></a>令牌对表示：</h4><p>$$<br>h_{i,j} = tanh(W_h\cdot[h_u;h_j] + b_h),j \geq i<br>\tag{1}<br>$$<br>长度为n的句子$[w_1,…,w_n]$，通过基本编码器将每个令牌wi映射到一个低维的上下文向量$h_i$中，燃火可以生成$h_{i,j}$来表示令牌对$(w_i, w_j)$<br>$W_h$是矩阵的参数，$b_h$是要需要训练的偏差向量，<mark>在总架构图中称为握手内核</mark></p><hr><h4 id="握手标记器"><a class="header-anchor" href="#握手标记器"></a>握手标记器</h4><p>使用统一的架构来标记三种类型的链接，给出令牌对$h_{i,j}$<br>由公式3预测令牌对$(w_i, w_j)$</p><p>$$<br>P(y_{i,j}) = Softmax(W_o \cdot h_{i,j} + b _o)<br>\tag{2}<br>$$</p><p>$$<br>link(w_i, w_j) = arg\max_lP(y_{i,j} = l)<br>\tag{3}<br>$$<br><strong>其中$P(y_{i,j} = l)$表示为将$(w_i, w_j)$识别为$l$的概率</strong></p><hr><p>握手序列编码器的伪代码：<br><img src="https://img-blog.csdnimg.cn/1de8190d289c4722a7240c4a0b45264d.png#pic_center" alt="握手序列编码器的伪代码" width="450"></p><hr><h4 id="损失函数"><a class="header-anchor" href="#损失函数"></a>损失函数</h4><p>$$<br>L_{link} = - \frac {1}{N} \sum_{i=1, j \geq i}^{N} \sum_{* \subset {\lbrace E, H, T \rbrace}}\log P(y_{i,j}^* = \hat{l^*})<br>\tag{4}<br>$$</p><p>这里，$N$是输入句子的长度，$\hat{l^*}$是真标记，$E、H$和$T$分别表示eh-to-et、sh-to-oh和st-to-ot的标记器。</p><hr><h2 id="实验对比"><a class="header-anchor" href="#实验对比"></a>实验对比</h2><h3 id="数据集准备"><a class="header-anchor" href="#数据集准备"></a>数据集准备</h3><p>NYT和WebNLG作为数据集<img src="https://img-blog.csdnimg.cn/da601450efff43ad8fc62176ed89f41a.png#pic_center" alt="" width="400"><br>使用Precision、Recall、F1-score作为评判标准</p><h4 id="基线对比"><a class="header-anchor" href="#基线对比"></a>基线对比</h4><p>(以下为原文）<br><img src="https://img-blog.csdnimg.cn/f299936f034b42198b20692d621a37d8.png#pic_center" alt="" width="400"></p><ul class="lvl-0"><li class="lvl-2"><p>Tplinker在注释最后一个单词的数据集和注释整个跨度的数据集上都表现良好</p></li><li class="lvl-2"><p>在NYT和NYT*上的得分几乎相同，这也表明只注释最后一个单词的数据集并不总是比注释整个跨度的数据集容易。 甚至相反，这可能会更难，因为不同的实体可能共享相同的最后一个词，这使得重叠情况的数量增加。</p></li><li class="lvl-2"><p>WebNLG和WebNLG* 的性能之间存在明显的差距，但发现WebNLG中有127个错误的三元组，包含一个无意义的空实体。 另外，webnlg有216个关系，而webnlg* 只有171个。可能是这些原因造成，为比较，不解决</p></li><li class="lvl-2"><ol><li class="lvl-5">WebNLG* 的性能已经饱和，因为提取含有171个预定义关系的三元组非常困难，尤其是训练数据很少（5019句）。 这些方法获得了90+F1的分数，可能已经超过了人类水平的表现。 换言之，提振空间太有限。</li></ol></li><li class="lvl-2"><ol start="2"><li class="lvl-5">WebNLG* 中的许多关系具有相同的含义，如LeaderName和Leader,affiliation和affiliations，这给模型带来了混乱。 在许多情况下，我们的模型将提取它们两个，但通常只有其中一个在测试集中被注释。由于$TPLinker_{bert}$模型具有较强的提取重叠关系的能力和较好的查全率，因此这些正确注释的缺失严重影响了Tplinkerbert模型的查全率。</li></ol></li></ul><h2 id="知识补充"><a class="header-anchor" href="#知识补充"></a>知识补充</h2><blockquote><ul class="lvl-1"><li class="lvl-2"><p>序列标注:</p></li><li class="lvl-2"><ul class="lvl-3"><li class="lvl-4">序列标注是一个比较简单的NLP任务，也可成为最基本的任务。序列标注是给定一个输入序列，使用模型对这个序列的<code>每一个位置标注一个相应的标签</code>，是一个序列到序列的过程。序列标注的涵盖范围非常广，可以解决一系列对字符进行分类的问题，如分词、词性标注、命名实体识别、关系抽取等。</li></ul></li><li class="lvl-2"><ul class="lvl-3"><li class="lvl-4">序列标注可分<code>原始标注</code>和<code>联合标注</code>，原始标注就是<code>每个元素</code>中都需要被标注的一个标签，联合标注就是所有的<code>分段</code>都被标注为同样的标签，命名实体识别是信息提取问题中的一个子任务，需要将元素进行定位和分类，如人名、地点、时间、组织名、质量等。</li></ul></li><li class="lvl-2"><p>BIO标注:解决联合标注问题的最简单的方法，就是将其转化为原始标注问题，即使用BIO标注。</p></li><li class="lvl-2"><ul class="lvl-3"><li class="lvl-4">BIO标注是将每个元素标注为<code>“B-X”、“I-X”或者“O”</code>。其中，<code>“B-X”</code>表示此元素所在的片段属于<code>X类型</code>并且此元素为词片段的<code>起始词</code>，<code>“I-X”</code>表示此元素所在的片段属于<code>X类型</code>并且此元素为词片段的<code>起始词之后的词</code>，<code>“O”</code>表示该字<code>不属于</code>事先定义的任何词片段类型。</li></ul></li><li class="lvl-2"><p>常用的序列标注还有BIOES标注和BMES标注。</p></li><li class="lvl-2"><ul class="lvl-3"><li class="lvl-4">BIOES标注主要将多元实体X标注为<code>B-X,I-X,E-X</code>的格式，<code>B-</code>：实体的<code>开头</code>，<code>I-</code>：实体的<code>中间</code>；<code>0-</code>：<code>非实体</code>部分；<code>E-</code>：<code>实体的结尾</code>；<code>S-</code>：<code>单个字符，其本身就是一个实体</code>。</li></ul></li><li class="lvl-2"><ul class="lvl-3"><li class="lvl-4">BMES标注中的<code>B-</code>：实体的<code>开头</code>，<code>M-</code>：实体的<code>中间</code>，<code>O-</code>：非实体<code>部分</code>，<code>E-</code>：实体的<code>结尾</code>、<code>S-</code>：<code>单个字符，其本身就是一个实体</code>。可以看出在很多任务以上各种标注体系的表现差异不大。</li></ul></li></ul></blockquote><blockquote><ul class="lvl-1"><li class="lvl-2"><p>BERT: BERT:双向Transformer的Encoder</p></li></ul></blockquote></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者: </i></span><span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">丁一</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接: </i></span><span class="reprint-info"><a href="https://dingyidreams.com/2022/12/11/shi-ti-guan-xi-chou-qu-tplinker-single-stage-joint-extraction-of-entities-and-relations-through-token-pair-linking/">https://dingyidreams.com/2022/12/11/shi-ti-guan-xi-chou-qu-tplinker-single-stage-joint-extraction-of-entities-and-relations-through-token-pair-linking/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明: </i></span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">丁一</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/%E9%A1%B6%E4%BC%9A%E8%AE%BA%E6%96%87/"><span class="chip bg-color">顶会论文</span> </a><a href="/tags/%E4%B8%89%E5%85%83%E7%BB%84%E6%8A%BD%E5%8F%96/"><span class="chip bg-color">三元组抽取</span> </a><a href="/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/"><span class="chip bg-color">自然语言处理</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="/libs/share/js/social-share.min.js"></script></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22ab38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019fe8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><style>.valine-card{margin:1.5rem auto}.valine-card .card-content{padding:20px 20px 5px 20px}#vcomments textarea{box-sizing:border-box;background:url(https://cdn.jsdelivr.net/gh/Yafine/cdn@3.1.1/social/comment_bg.png) 100% 100% no-repeat}#vcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem}#vcomments blockquote p{text-indent:.2rem}#vcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#vcomments img{max-width:100%;height:auto;cursor:pointer}#vcomments ol li{list-style-type:decimal}#vcomments ol,ul{display:block;padding-left:2em;word-spacing:.05rem}#vcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#vcomments ul li{list-style-type:disc}#vcomments ul ul li{list-style-type:circle}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#vcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#vcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#vcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#vcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#vcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#vcomments h6{font-size:1rem;line-height:1.3rem}#vcomments p{font-size:1rem;line-height:1.5rem}#vcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#vcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#vcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#vcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#vcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#vcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#vcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#vcomments b,strong{font-weight:700}#vcomments dfn{font-style:italic}#vcomments small{font-size:85%}#vcomments cite{font-style:normal}#vcomments mark{background-color:#fcf8e3;padding:.2em}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card valine-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="vcomments" class="card-content" style="display:grid"></div></div><script src="/libs/valine/av-min.js"></script><script src="/libs/valine/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"ugrCXJtsapduyVcY1j6g0YkQ-gzGzoHsz",appKey:"XhFi3xbIoz6iDkFKQXzKTXi8",serverURLs:"",notify:!1,verify:!1,visitor:!0,avatar:"mm",pageSize:"10",lang:"zh-cn",placeholder:"说点什么叭！"})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i>&nbsp;上一篇</div><div class="card"><a href="/2023/01/03/shi-ti-guan-xi-chou-qu-a-novel-cascade-binary-tagging-framework-for-relational-triple-extraction/"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/DreamUnity/cdn/image/titleBackground/2.jpg" class="responsive-img" alt="A Novel Cascade Binary Tagging Framework for Relational Triple Extraction"> <span class="card-title">A Novel Cascade Binary Tagging Framework for Relational Triple Extraction</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2023-01-03 </span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/" class="post-category">实体关系抽取</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E9%A1%B6%E4%BC%9A%E8%AE%BA%E6%96%87/"><span class="chip bg-color">顶会论文</span> </a><a href="/tags/%E4%B8%89%E5%85%83%E7%BB%84%E6%8A%BD%E5%8F%96/"><span class="chip bg-color">三元组抽取</span> </a><a href="/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/"><span class="chip bg-color">自然语言处理</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/2022/12/04/shi-ti-guan-xi-chou-qu-relational-triple-extraction-one-step-is-enough/"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/DreamUnity/cdn/image/titleBackground/4.jpg" class="responsive-img" alt="DirectRel:Relational Triple Extraction:One Step is Enough"> <span class="card-title">DirectRel:Relational Triple Extraction:One Step is Enough</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2022-12-04 </span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E6%8A%BD%E5%8F%96/" class="post-category">实体关系抽取</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E9%A1%B6%E4%BC%9A%E8%AE%BA%E6%96%87/"><span class="chip bg-color">顶会论文</span> </a><a href="/tags/%E4%B8%89%E5%85%83%E7%BB%84%E6%8A%BD%E5%8F%96/"><span class="chip bg-color">三元组抽取</span> </a><a href="/tags/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/"><span class="chip bg-color">自然语言处理</span></a></div></div></div></div></article></div><script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script><script type="text/javascript" src="/libs/prism/prism.min.js"></script><script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script><script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script><script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card" style="background-color:#fff"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('2'),
            headingSelector: 'h2, h3, h4, h5'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})</script><footer class="page-footer bg-color"><link rel="stylesheet" href="/libs/aplayer/APlayer.min.css"><style>.aplayer .aplayer-lrc p{display:none;font-size:12px;font-weight:700;line-height:16px!important}.aplayer .aplayer-lrc p.aplayer-lrc-current{display:none;font-size:15px;color:#42b983}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><div><div class="row"><meting-js class="col l8 offset-l2 m10 offset-m1 s12" server="netease" type="playlist" id="503838841" fixed="true" autoplay theme="#42b983" loop order="random" preload="auto" volume="0.7" list-folded="true"></meting-js></div></div><script src="/libs/aplayer/APlayer.min.js"></script><script src="/libs/aplayer/Meting.min.js"></script><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2022-2023</span> <a href="/about" target="_blank">丁一</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">166.5k</span> <span id="busuanzi_container_site_pv">&nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp; <span id="busuanzi_value_site_pv" class="white-color"></span> </span><span id="busuanzi_container_site_uv">&nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp; <span id="busuanzi_value_site_uv" class="white-color"></span></span><br><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/DreamUnity" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i> </a><a href="mailto:704193119@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i> </a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=704193119" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 704193119" data-position="top" data-delay="50"><i class="fab fa-qq"></i> </a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script type="text/javascript">$(function(){!function(t,s,i){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),n=document.getElementById(s),r=document.getElementById(i);n.addEventListener("input",function(){var f='<ul class="search-result-list">',m=this.value.trim().toLowerCase().split(/[\s\-]+/);r.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var n,e,r,s,i,l=!0,a=t.title.trim().toLowerCase(),c=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),u=0===(u=t.url).indexOf("/")?t.url:"/"+u,o=-1,h=-1;""!==a&&""!==c&&m.forEach(function(t,e){n=a.indexOf(t),o=c.indexOf(t),n<0&&o<0?l=!1:(o<0&&(o=0),0===e&&(h=o))}),l&&(f+="<li><a href='"+u+"' class='search-result-title'>"+a+"</a>",e=t.content.trim().replace(/<[^>]+>/g,""),0<=h&&(s=h+80,(r=h-20)<0&&(r=0),0===r&&(s=100),s>e.length&&(s=e.length),i=e.substr(r,s),m.forEach(function(t){var e=new RegExp(t,"gi");i=i.replace(e,'<em class="search-keyword">'+t+"</em>")}),f+='<p class="search-result">'+i+"...</p>"),f+="</li>")}),f+="</ul>",r.innerHTML=f)})}})}("/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script src="https://ssl.captcha.qq.com/TCaptcha.js"></script><script src="/libs/others/TencentCaptcha.js"></script><button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script async src="/libs/others/busuanzi.pure.mini.js"></script><script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async></script><script src="/libs/instantpage/instantpage.js" type="module"></script></body></html>